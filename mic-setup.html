<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Jawad â€” Voice Setup</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 16px;
      padding: 2.5rem;
      max-width: 440px;
      width: 90%;
      text-align: center;
      box-shadow: 0 25px 50px -12px rgba(0,0,0,.5);
    }
    .icon { font-size: 56px; margin-bottom: 1rem; }
    h1 { color: #fb923c; font-size: 1.5rem; margin-bottom: 0.5rem; }
    .subtitle { color: #94a3b8; font-size: 0.9rem; margin-bottom: 0.5rem; }
    .desc { color: #64748b; font-size: 0.85rem; line-height: 1.7; margin-bottom: 1.5rem; }
    .desc strong { color: #cbd5e1; }
    #enable-btn {
      background: #fb923c;
      color: white;
      border: none;
      padding: 14px 40px;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      font-weight: 600;
      transition: background 0.2s, transform 0.1s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    #enable-btn:hover:not(:disabled) { background: #f97316; transform: scale(1.02); }
    #enable-btn:active:not(:disabled) { transform: scale(0.98); }
    #enable-btn:disabled { opacity: 0.6; cursor: wait; }
    #status {
      margin-top: 1rem;
      font-size: 0.85rem;
      min-height: 1.5rem;
      transition: color 0.3s;
    }
    .success { color: #4ade80 !important; }
    .error { color: #f87171 !important; }
    .info { color: #60a5fa !important; }
    .steps {
      text-align: left;
      background: #0f172a;
      border-radius: 8px;
      padding: 1rem 1.25rem;
      margin-bottom: 1.5rem;
      font-size: 0.82rem;
      color: #94a3b8;
      line-height: 1.8;
    }
    .steps span { color: #fb923c; font-weight: 600; }
    .done-card { display: none; }
    .done-card.visible { display: block; }
  </style>
</head>
<body>
  <!-- Setup Card -->
  <div class="card" id="setup-card">
    <div class="icon">ðŸŽ¤</div>
    <h1>Voice Setup</h1>
    <p class="subtitle">One-time setup â€” just like Siri</p>
    <p class="desc">
      Jawad needs microphone access to hear your voice commands.
      Click the button below, then <strong>click "Allow"</strong> when Firefox asks.
      After this, voice works instantly every time.
    </p>
    <div class="steps">
      <span>1.</span> Click "Enable Microphone" below<br>
      <span>2.</span> Firefox will ask to allow microphone<br>
      <span>3.</span> Click <strong>Allow</strong> â€” that's it!<br>
      <span>4.</span> This tab closes automatically
    </div>
    <button id="enable-btn" onclick="enableMic()">
      ðŸŽ¤ Enable Microphone
    </button>
    <p id="status"></p>
  </div>

  <!-- Success Card (shown after grant) -->
  <div class="card done-card" id="done-card">
    <div class="icon">âœ…</div>
    <h1 style="color: #4ade80;">Voice Enabled!</h1>
    <p class="desc">
      Microphone access granted. You can now use voice commands in the Jawad sidebar.
      This tab will close automatically...
    </p>
  </div>

  <script src="mic-setup.js"></script>
</body>
</html>

