@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════════
   Jawad Sidebar — Complete Design System
   Firefox sidebar-safe (no backdrop-filter)
   ═══════════════════════════════════════════ */

/* ── Reset ── */
*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  font-family: -apple-system, 'Segoe UI', system-ui, Roboto, Helvetica, Arial, sans-serif;
  background: #0e1525;
  color: #c4cdd8;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.5;
}

#root {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  background: #0e1525;
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #2a3448; border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: #3d4d65; }
* { scrollbar-width: thin; scrollbar-color: #2a3448 transparent; }

/* ═══════════════════════════════════════════
   FIREFOX-PROOF FORM ELEMENTS
   These use !important to override Firefox
   native form element rendering in sidebar.
   Inline style= props are ALSO applied on
   every element as belt-and-suspenders fix.
   ═══════════════════════════════════════════ */

input,
select,
textarea,
.input-field {
  -moz-appearance: none !important;
  -webkit-appearance: none !important;
  appearance: none !important;
  background-color: #172033 !important;
  border: 1.5px solid #293548 !important;
  border-radius: 10px !important;
  color: #dde4ed !important;
  font-size: 12px;
  padding: 9px 12px;
  transition: border-color 0.2s, box-shadow 0.2s;
  outline: none !important;
  width: 100%;
  font-family: inherit;
}

input:focus,
select:focus,
textarea:focus,
.input-field:focus {
  border-color: #e8792b !important;
  box-shadow: 0 0 0 3px rgba(232, 121, 43, 0.12) !important;
}

input::placeholder,
textarea::placeholder {
  color: #4a5568 !important;
}

/* Select dropdown arrow */
select {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236b7a8f'%3E%3Cpath d='M6 8L1 3h10z'/%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: right 10px center !important;
  padding-right: 30px !important;
  cursor: pointer;
}

/* Force dark option elements in Firefox */
select option,
select optgroup {
  background-color: #172033 !important;
  color: #dde4ed !important;
  padding: 8px 12px !important;
}

textarea {
  resize: none;
  min-height: 60px;
}

/* ── Checkbox override ── */
input[type="checkbox"] {
  width: auto !important;
  padding: 0 !important;
}

/* ═══════════════════════════════════════════
   SURFACE / CARD SYSTEM
   ═══════════════════════════════════════════ */

.surface-0 { background: #0e1525; }
.surface-1 { background: #131b2c; }
.surface-2 { background: #172033; }
.surface-3 { background: #1d2840; }
.surface-4 { background: #24324e; }

.card {
  background: #151e30;
  border: 1px solid #253045;
  border-radius: 14px;
}

.card-hover:hover {
  background: #192438;
  border-color: #2e3f58;
}

/* ═══════════════════════════════════════════
   BUTTONS
   ═══════════════════════════════════════════ */

.btn-accent {
  background: linear-gradient(135deg, #e8792b 0%, #d4621a 100%);
  color: #fff;
  font-weight: 700;
  font-size: 12px;
  border: none;
  border-radius: 10px;
  padding: 9px 18px;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 3px 12px rgba(232, 121, 43, 0.25);
}
.btn-accent:hover:not(:disabled) {
  filter: brightness(1.08);
  box-shadow: 0 4px 20px rgba(232, 121, 43, 0.35);
  transform: translateY(-1px);
}
.btn-accent:active:not(:disabled) { transform: translateY(0); }
.btn-accent:disabled { opacity: 0.35; cursor: not-allowed; }

.btn-flat {
  background: #1d2840;
  color: #8899ad;
  font-weight: 600;
  font-size: 12px;
  border: 1px solid #293548;
  border-radius: 10px;
  padding: 9px 18px;
  cursor: pointer;
  transition: all 0.2s;
}
.btn-flat:hover:not(:disabled) {
  background: #24324e;
  color: #c4cdd8;
  border-color: #364966;
}

.btn-ghost {
  background: transparent;
  color: #5d6f85;
  border: none;
  border-radius: 8px;
  padding: 6px;
  cursor: pointer;
  transition: all 0.15s;
}
.btn-ghost:hover { color: #c4cdd8; background: #1d2840; }

/* Pill chip button (for Summarize, Research, etc.) */
.chip {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  border: 1.5px solid #293548;
  background: #151e30;
  color: #8899ad;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}
.chip:hover {
  background: #1d2840;
  color: #c4cdd8;
  border-color: #364966;
}
.chip:disabled { opacity: 0.35; cursor: not-allowed; }
.chip-active {
  background: rgba(168, 85, 247, 0.12) !important;
  border-color: rgba(168, 85, 247, 0.4) !important;
  color: #c084fc !important;
}

/* ═══════════════════════════════════════════
   BADGES
   ═══════════════════════════════════════════ */

.badge {
  display: inline-flex;
  align-items: center;
  font-size: 10px;
  font-weight: 700;
  padding: 2px 9px;
  border-radius: 99px;
  letter-spacing: 0.03em;
}

/* ═══════════════════════════════════════════
   CHAT BUBBLES
   ═══════════════════════════════════════════ */

.bubble-user {
  background: #1c1808;
  border: 1px solid rgba(232, 121, 43, 0.2);
  border-radius: 18px 18px 4px 18px;
}

.bubble-bot {
  background: #151e30;
  border: 1px solid #253045;
  border-radius: 18px 18px 18px 4px;
}

.bubble-err {
  background: #1e0e0e;
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 18px 18px 18px 4px;
}

/* ═══════════════════════════════════════════
   MARKDOWN INSIDE BOT MESSAGES
   ═══════════════════════════════════════════ */

.md-body h1 { font-size: 16px; font-weight: 700; margin: 0 0 8px; color: #eef2f7; }
.md-body h2 { font-size: 15px; font-weight: 700; margin: 0 0 6px; color: #e0e7ef; }
.md-body h3 { font-size: 14px; font-weight: 600; margin: 0 0 4px; color: #e0e7ef; }
.md-body p  { margin: 0 0 10px; line-height: 1.7; color: #bfc9d6; }
.md-body p:last-child { margin-bottom: 0; }
.md-body ul { list-style: disc; padding-left: 18px; margin: 0 0 10px; }
.md-body ol { list-style: decimal; padding-left: 18px; margin: 0 0 10px; }
.md-body li { color: #bfc9d6; margin-bottom: 4px; line-height: 1.6; }
.md-body code {
  background: #1a1508;
  color: #f0a050;
  padding: 2px 6px;
  border-radius: 5px;
  font-size: 11px;
  font-family: 'Cascadia Code', 'Fira Code', 'JetBrains Mono', monospace;
}
.md-body pre {
  background: #0a1020;
  border: 1px solid #253045;
  border-radius: 10px;
  padding: 12px;
  margin: 0 0 10px;
  overflow-x: auto;
  font-size: 11px;
}
.md-body pre code { background: transparent; padding: 0; color: #c4cdd8; }
.md-body a { color: #f0a050; text-decoration: underline; text-underline-offset: 2px; }
.md-body a:hover { color: #fbbf6a; }
.md-body blockquote {
  border-left: 3px solid #e8792b;
  padding-left: 12px;
  margin: 0 0 10px;
  color: #8899ad;
  font-style: italic;
}
.md-body strong { font-weight: 700; color: #eef2f7; }
.md-body table { width: 100%; font-size: 12px; margin: 0 0 10px; border-collapse: collapse; }
.md-body th { text-align: left; font-weight: 600; padding: 6px; color: #e0e7ef; border-bottom: 1px solid #253045; }
.md-body td { padding: 6px; color: #8899ad; border-bottom: 1px solid #1a2438; }
.md-body hr { border: none; border-top: 1px solid #253045; margin: 12px 0; }

/* ═══════════════════════════════════════════
   VOICE BUTTON STATE CLASSES
   (replaces inline styles to silence linter)
   ═══════════════════════════════════════════ */

.vbtn { background: transparent; color: #5d6f85; }
.vbtn-listening { background: #dc2626; color: #fff; }
.vbtn-transcribing { background: #2563eb; color: #fff; }
.vbtn-setup { background: #e8792b; color: #fff; }
.vbtn-error { background: #b45309; color: #fff; }
.vbtn-disabled { background: #1d2840; color: #3d4d65; cursor: not-allowed; }

.vbtn-ping { background: #dc2626; }

.tooltip-recording {
  background: #dc2626;
  color: #fff;
}
.tooltip-transcribing {
  background: #2563eb;
  color: #fff;
}
.tooltip-error {
  background: #44200a;
  border: 1px solid #7c3a0a;
  color: #fbbf6a;
}
.tooltip-error-icon { color: #f59e0b; }

/* ═══════════════════════════════════════════
   ANIMATIONS
   ═══════════════════════════════════════════ */

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(100%); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes bounce3 {
  0%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-4px); }
}
@keyframes pulse-ring {
  0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5); }
  50%      { box-shadow: 0 0 0 8px rgba(239, 68, 68, 0); }
}
@keyframes glow {
  0%, 100% { opacity: 0.6; }
  50%      { opacity: 1; }
}
@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes alive {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.4; }
}

.fade-up    { animation: fadeUp 0.22s ease-out both; }
.slide-up   { animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1) both; }
.voice-ring { animation: pulse-ring 1.5s ease-in-out infinite; }
.anim-glow  { animation: glow 2s ease-in-out infinite; }
.anim-alive { animation: alive 2s ease-in-out infinite; }
.anim-shimmer {
  background: linear-gradient(90deg, transparent, rgba(232,121,43,0.05), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s ease-in-out infinite;
}

/* Thinking dots */
.dot {
  display: inline-block;
  width: 6px; height: 6px;
  border-radius: 50%;
  background: #e8792b;
  animation: bounce3 1.4s ease-in-out infinite;
}
.dot:nth-child(1) { animation-delay: 0s; }
.dot:nth-child(2) { animation-delay: 0.16s; }
.dot:nth-child(3) { animation-delay: 0.32s; }

/* ── Utility ── */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.truncate-2 {
  overflow: hidden;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.tab-active {
  color: #e8792b !important;
  box-shadow: inset 0 -2px 0 #e8792b;
}
